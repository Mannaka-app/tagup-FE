export default function groupByArray(collection, getKey) {
    const keyIndexMap = new Map();
    return collection.reduce((acc, cur) => {
        const key = typeof getKey === 'function' ? getKey(cur) : getKey;
        if (keyIndexMap.has(key)) {
            acc[keyIndexMap.get(key)].push(cur);
        }
        else {
            const nextIndex = acc.length;
            keyIndexMap.set(key, nextIndex);
            acc[nextIndex] = [cur];
        }
        return acc;
    }, []);
}
//# sourceMappingURL=groupByArray.js.map